# ============================================
# Trading Bot Project - Production Configuration
# ============================================

# Project Settings
COMPOSE_PROJECT_NAME=trading_bot
PROJECT_VERSION=1.0.0
PYTHON_VERSION=3.12

# Network Configuration
NETWORK_SUBNET=172.28.0.0/16
NETWORK_GATEWAY=172.28.0.1

# PostgreSQL Configuration
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_HOST_PORT=5432
POSTGRES_DB=trading_bot_prod
POSTGRES_USER=trading_bot_user
POSTGRES_PASSWORD=<STRONG_PASSWORD_HERE>

# Data Configuration
DEFAULT_RUN_ID=24
DEFAULT_INSTRUMENT_ID=651

# PostgreSQL Performance Tuning (Production)
POSTGRES_SHARED_BUFFERS=8GB
POSTGRES_EFFECTIVE_CACHE_SIZE=24GB
POSTGRES_WORK_MEM=256MB
POSTGRES_MAINTENANCE_WORK_MEM=2GB
POSTGRES_MAX_CONNECTIONS=200
PGDATA=/var/lib/postgresql/data/pgdata

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_HOST_PORT=6380
REDIS_PASSWORD=<STRONG_PASSWORD_HERE>
REDIS_MAXMEMORY=4gb

# Data Paths
DATA_ROOT=./data
PARQUET_PATH=./data/parquet
RESULTS_PATH=./data/results
LOGS_PATH=./data/logs

# Processing Configuration
CHUNK_SIZE=1000000

# API Configuration
API_HOST=0.0.0.0
API_PORT=8010
API_HOST_PORT=8010
API_WORKERS=4

# Logging (Production)
LOG_LEVEL=INFO
LOG_FORMAT=json

# Production Mode
DEV_MODE=false
RELOAD=false
DEBUG=false

# Timezone
TZ=UTC

# Worker Configuration (Production)
WORKER_REPLICAS=4
WORKER_CONCURRENCY=4
WORKER_CPU_LIMIT=2
WORKER_CPU_RESERVATION=1
WORKER_MEMORY_LIMIT=4gb
WORKER_MEMORY_RESERVATION=2gb
WORKER_HEARTBEAT_INTERVAL=30
WORKER_METRICS_INTERVAL=60
WORKER_METRICS_PORT=9091

# Job Configuration
JOB_TIMEOUT=3600
JOB_MAX_RETRIES=3
JOB_RETRY_DELAY=60
WORKER_MAX_JOBS=100

# Monitoring Configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=<STRONG_PASSWORD_HERE>

# Resource Limits (Production)
MEMORY_LIMIT_API=4g
MEMORY_LIMIT_WORKER=4g
MEMORY_LIMIT_PIPELINE=8g
MEMORY_LIMIT_BACKTEST=8g
CPU_LIMIT_API=2.0
CPU_LIMIT_WORKER=2.0
CPU_LIMIT_PIPELINE=4.0
CPU_LIMIT_BACKTEST=4.0

# Backup Configuration
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./data/backups

# Alert Configuration (Optional - configure for your needs)
# ALERT_EMAIL=ops@your-domain.com
# ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
# ALERT_PAGERDUTY_KEY=your-pagerduty-integration-key